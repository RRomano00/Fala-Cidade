<div class="base-form">
  <form class="form mat-elevation-z4" [formGroup]="form" (ngSubmit)="create()">
    <h2 class="text-center">Crie sua conta!</h2>
    <mat-form-field>
      <mat-label>Nome completo</mat-label>
      <input matInput placeholder="Nome completo" formControlName="fullname">

      <mat-error ngIf="form.controls.fullname.hasError('required')">
        Campo obrigatório
      </mat-error>

      @if(form.controls['fullname'].hasError('minlength')){
      <p class="text-danger">Nome deve ter no mínimo {{fullnameMinLength}} caracteres.</p>
      }

    </mat-form-field>

    <mat-form-field>
      <mat-label>Email</mat-label>
      <input matInput placeholder="Email" required="" formControlName="email">
      <mat-error ngIf="form.controls.email.hasError('required')">
        Campo obrigatório
      </mat-error>

      @if(form.controls['email'].hasError('email')){
      <p class="text-danger">Email inválido</p>
      }


    </mat-form-field>

    <mat-form-field>
      <mat-label>Senha</mat-label>
      <input matInput type="password" placeholder="Senha" maxlength="10" formControlName="password">
      <mat-error ngIf="form.controls.password.hasError('required')">
        Campo obrigatório
      </mat-error>
      @if(form.controls['password'].hasError('minlength')){
      <p class="text-danger">Senha deve ter no minimo {{passwordMinLength}} caracteres.</p>
      }

    </mat-form-field>

    <mat-form-field>
      <mat-label>Repita a senha</mat-label>
      <input matInput type="password" placeholder="Senha" formControlName="repeatPassword">
      <mat-error ngIf="form.controls.repeatPassword.hasError('required')">
        Campo obrigatório
      </mat-error>
      @if(form.controls['repeatPassword'].hasError('minlength')){
      <p class="text-danger">
        Senha deve ter no minimo {{passwordMinLength}} caracteres.
      </p>
      }


      @else if(!arePasswordsValid()){
      <p class="text-danger">As senhas não são iguais.</p>
      }
    </mat-form-field>

    <div class="text-center">
      <button mat-raised-button color="primary" [disabled]="!validateFields()">
        Criar
      </button>
    </div>

    <hr>
    <div class="mt-4">
      <p>Já possui uma conta? <a href="account/sign-in">Clique aqui</a> para entrar agora mesmo!</p>
    </div>
  </form>
</div>